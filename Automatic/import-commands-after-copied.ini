[Command]
Automatic=true
Command="
    copyq:
    var timeOutSeconds = 5

    // Linux/X11: Don't run this when mouse selection changes.
    if ( dataFormats().indexOf(mimeClipboardMode) != -1 )
      abort()

    var importScript = 'copyq: addCommands( importCommands(input()) )'
    var message = '<p>Do you want to <b>import commands</b> from clipboard?</p>'

    message += '<ul>'
    var cmds = importCommands(input())
    for (var i in cmds) {
      var cmd = cmds[i]
      var cmdType =
        cmd.automatic ? 'automatic' :
        cmd.inMenu ? 'menu/shortcut' :
        cmd.globalShortcuts ? '' : 'global shortcut';
      message += '<li>' + escapeHtml(cmds[i].name) + ' (' + cmdType + ')</li>'
    }
    message += '</ul>'

    popup('Commands Available', message, 5*1000,
          'Cancel', '', '',
          'Import', importScript, input())"
Icon=\xf085
Input=text/plain
Match=^\\[Commands?\\]
Name=Notification for Copied Commands

